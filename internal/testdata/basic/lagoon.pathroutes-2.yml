docker-compose-yaml: internal/testdata/basic/docker-compose.pathroutes.yml

# if an environment has `autogeneratePathRoutes` defined like `environments.main.autogeneratePathRoutes`
# then thes global lagoon yaml `routes.autogenerate.pathRoutes` are ignored
routes:
  autogenerate:
    pathRoutes:
      # route to a specific default port on a service
      - fromService: nginx
        toService: node
        path: /api/v1
      # path route for a port when 'lagoon.service.usecomposeports' is enabled
      - fromService: nginx
        toService: node-4321
        path: /api/v2

environments:
  main:
    # path routes for autogenerated routes for this environment only
    autogeneratePathRoutes:
    # route to a specific default port on a service
    - fromService: nginx
      toService: node
      path: /api/v1
    # path route for a port when 'lagoon.service.usecomposeports' is enabled
    - fromService: nginx
      toService: node-4321
      path: /api/v2