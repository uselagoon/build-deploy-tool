{{- if and (.Values.customBackupLocation.access-key) (.Values.customBackupLocation.secret-key) }}
apiVersion: v1
kind: Secret
metadata:
  name: lagoon-baas-custom-backup-credentials
  labels:
    {{- include "k8up-schedule.labels" . | nindent 4 }}
  annotations:
    {{- include "k8up-schedule.annotations" . | nindent 4 }}
stringData:
  access-key: {{ .Values.customBackupLocation.access-key }}
  secret-key: {{ .Values.customBackupLocation.secret-key }}
{{ end }}